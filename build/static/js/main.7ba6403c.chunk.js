(this["webpackJsonpreact-the-complete-guide"]=this["webpackJsonpreact-the-complete-guide"]||[]).push([[0],{38:function(e,t,n){},40:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(11),r=n(31),s=n.n(r),a=(n(38),n(9)),i=n(3),d=n(2),u=n.n(d),o=(n(40),function(e){var t=Object(c.useState)(""),n=Object(a.a)(t,2),r=n[0],s=n[1],i=Object(c.useState)(!1),d=Object(a.a)(i,2),u=d[0],o=d[1],l=e(r);return{enteredInput:r,inputIsValid:l,inputIsInValid:!l&&u,setWasTouched:o,enteredInputHandler:function(e){s(e.target.value)},inputLostFocusHandler:function(){o(!0)},setEnteredInput:s,reset:function(){s(""),o(!1)}}}),l=n(0),j=n(1),p=n(32),b=n(17),m=n(23),h=Object(p.a)({apiKey:"AIzaSyC17-HHv7r5BvBBKv43p2PpVMzhd_wrVOg",authDomain:"admin-panel-cdc5b.firebaseapp.com",projectId:"admin-panel-cdc5b",storageBucket:"admin-panel-cdc5b.appspot.com",messagingSenderId:"789994409100",appId:"1:789994409100:web:de3344330179e3b435ffa9"}),O=Object(b.g)(h),f=Object(m.b)(h),v=Object(b.b)(O,"products"),x=new(Object(l.a)((function e(){Object(j.a)(this,e),this.addProducts=function(e){return Object(b.a)(v,e)},this.updateProduct=function(e,t){var n=Object(b.d)(O,"products",e);return Object(b.h)(n,t)},this.deleteProduct=function(e){var t=Object(b.d)(O,"products",e);return Object(b.c)(t)},this.getAllProducts=function(){return Object(b.f)(v)},this.getProducts=function(e){var t=Object(b.d)(O,"products",e);return Object(b.e)(t)}}))),g=(n(42),n(5)),I=function(e){return""!==e.trim()},_=function(e){return""!==e.trim()&&e>0},N=function(e){return""!==e.trim()&&e>0&&e<=100},y=function(e){return e.trim().length>20},E=function(e){var t=e.id,n=e.setId,r=(e.onImageUrl,Object(c.useState)(!1)),s=Object(a.a)(r,2),d=s[0],l=s[1],j=Object(c.useState)(""),p=Object(a.a)(j,2),b=p[0],h=p[1],O=Object(c.useState)(!1),v=Object(a.a)(O,2),E=v[0],P=v[1],H=o(I),F=H.enteredInput,S=H.inputIsValid,V=H.inputIsInValid,k=H.setWasTouched,C=H.enteredInputHandler,w=H.inputLostFocusHandler,B=H.setEnteredInput,D=H.reset,z=o(_),L=z.enteredInput,M=z.inputIsValid,T=z.inputIsInValid,W=z.setWasTouched,A=z.enteredInputHandler,q=z.inputLostFocusHandler,U=z.setEnteredInput,R=z.reset,J=o(_),K=J.enteredInput,Q=J.inputIsValid,G=J.inputIsInValid,X=J.setWasTouched,Y=J.enteredInputHandler,Z=J.inputLostFocusHandler,$=J.setEnteredInput,ee=J.reset,te=o(N),ne=te.enteredInput,ce=te.inputIsValid,re=te.inputIsInValid,se=te.setWasTouched,ae=te.enteredInputHandler,ie=te.inputLostFocusHandler,de=te.setEnteredInput,ue=te.reset,oe=o(_),le=oe.enteredInput,je=oe.inputIsValid,pe=oe.inputIsInValid,be=oe.setWasTouched,me=oe.enteredInputHandler,he=oe.inputLostFocusHandler,Oe=oe.setEnteredInput,fe=oe.reset,ve=o(_),xe=ve.enteredInput,ge=ve.inputIsValid,Ie=ve.inputIsInValid,_e=ve.setWasTouched,Ne=ve.enteredInputHandler,ye=ve.inputLostFocusHandler,Ee=ve.setEnteredInput,Pe=ve.reset,He=o(I),Fe=He.enteredInput,Se=He.inputIsValid,Ve=He.inputIsInValid,ke=He.setWasTouched,Ce=He.enteredInputHandler,we=He.inputLostFocusHandler,Be=He.setEnteredInput,De=He.reset,ze=o(y),Le=ze.enteredInput,Me=ze.inputIsValid,Te=ze.inputIsInValid,We=ze.setWasTouched,Ae=ze.enteredInputHandler,qe=ze.inputLostFocusHandler,Ue=ze.setEnteredInput,Re=ze.reset,Je=Object(c.useState)(""),Ke=Object(a.a)(Je,2),Qe=(Ke[0],Ke[1],Object(c.useState)("")),Ge=Object(a.a)(Qe,2),Xe=Ge[0],Ye=Ge[1],Ze=Object(c.useState)(""),$e=Object(a.a)(Ze,2),et=$e[0],tt=$e[1],nt=Object(c.useState)(!1),ct=Object(a.a)(nt,2),rt=ct[0],st=ct[1],at=Object(c.useState)(0),it=Object(a.a)(at,2),dt=(it[0],it[1]),ut=!1;S&&M&&Q&&ce&&je&&ge&&Se&&Me&&""===et&&(ut=!0);var ot=function(){var e=Object(i.a)(u.a.mark((function e(c){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),k(!0),W(!0),X(!0),se(!0),be(!0),_e(!0),ke(!0),We(!0),tt("Please Upload Image"),ut){e.next=12;break}return e.abrupt("return");case 12:if(r={productName:F,productPrice:L,productMrp:K,productDiscount:ne,productSize:le,quantity:xe,color:Fe,description:Le,image:Xe},l(!0),h(""),e.prev=15,void 0===t||""===t){e.next=22;break}return e.next=19,x.updateProduct(t,r);case 19:n(""),e.next=24;break;case 22:return e.next=24,x.addProducts(r);case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(15),h(e.t0.message);case 29:P(!1),l(!1),D(),R(),ee(),ue(),fe(),Pe(),De(),Re();case 39:case"end":return e.stop()}}),e,null,[[15,26]])})));return function(t){return e.apply(this,arguments)}}(),lt=function(){var e=Object(i.a)(u.a.mark((function e(){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),e.prev=1,e.next=4,x.getProducts(t);case 4:n=e.sent,B(n.data().productName),U(n.data().productPrice),$(n.data().productMrp),de(n.data().productDiscount),Oe(n.data().productSize),Ee(n.data().quantity),Be(n.data().color),Ue(n.data().description),Ye(n.data().image),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),h(e.t0.message);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){void 0!==t&&""!==t&&lt(t)}),[t]);var jt=Object(g.jsx)("div",{className:"forms__controls__add",children:Object(g.jsx)("button",{onClick:function(){P(!0)},children:"Add New Product"})});return E&&(jt=Object(g.jsxs)("form",{onSubmit:ot,children:[Object(g.jsxs)("div",{className:"forms__controls",children:[Object(g.jsxs)("div",{className:"forms__control",children:[Object(g.jsx)("label",{htmlFor:"Name",children:"Enter name of the product"}),Object(g.jsx)("input",{type:"text",value:F,onChange:C,onBlur:w}),V&&Object(g.jsx)("p",{className:"invalid",children:"Enter valid name of product"})]}),Object(g.jsxs)("div",{className:"forms__control",children:[Object(g.jsx)("label",{htmlFor:"Price",children:"Enter Price"}),Object(g.jsx)("input",{type:"number",value:L,onChange:A,onBlur:q}),T&&Object(g.jsx)("p",{className:"invalid",children:"Enter valid price of product(must be in +ve )"})]}),Object(g.jsxs)("div",{className:"forms__control",children:[Object(g.jsx)("label",{htmlFor:"MRP",children:"Enter MRP"}),Object(g.jsx)("input",{type:"number",value:K,onChange:Y,onBlur:Z}),G&&Object(g.jsx)("p",{className:"invalid",children:"Enter valid MRP of product(must be in +ve )"})]}),Object(g.jsxs)("div",{className:"forms__control",children:[Object(g.jsx)("label",{htmlFor:"Discount",children:"Enter Discount(%)"}),Object(g.jsx)("input",{type:"number",value:ne,onChange:ae,onBlur:ie}),re&&Object(g.jsx)("p",{className:"invalid",children:"Enter valid discount on product(0-100)%"})]}),Object(g.jsxs)("div",{className:"forms__control",children:[Object(g.jsx)("label",{htmlFor:"Size",children:"Enter size"}),Object(g.jsx)("input",{type:"number",value:le,onChange:me,onBlur:he}),pe&&Object(g.jsx)("p",{className:"invalid",children:"Enter valid size of product(must be in +ve)"})]}),Object(g.jsxs)("div",{className:"forms__control",children:[Object(g.jsx)("label",{htmlFor:"Quantitiy",children:"Enter quantity"}),Object(g.jsx)("input",{type:"number",value:xe,onChange:Ne,onBlur:ye}),Ie&&Object(g.jsx)("p",{className:"invalid",children:"Enter valid quantity of product(must be in +ve )"})]}),Object(g.jsxs)("div",{className:"forms__control",children:[Object(g.jsx)("label",{htmlFor:"Color",children:"Enter color"}),Object(g.jsx)("input",{type:"text",value:Fe,onChange:Ce,onBlur:we}),Ve&&Object(g.jsx)("p",{className:"invalid",children:"Enter valid color of product"})]}),Object(g.jsxs)("div",{className:"forms__control",children:[Object(g.jsx)("label",{htmlFor:"Desc",children:"Describe your product"}),Object(g.jsx)("textarea",{name:"paragraph_text",cols:"40",rows:"10",value:Le,onChange:Ae,onBlur:qe}),Te&&Object(g.jsx)("p",{className:"invalid",children:"Enter valid description(more than 20 words)"})]}),Object(g.jsxs)("div",{className:"forms__control",children:[Object(g.jsx)("label",{htmlFor:"image",children:"Upload image of the product"}),Object(g.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];if(t)if(e.target.files[0].size>=2e6)tt("Image Size Must be less than 2MB");else if("image/png"===e.target.files[0].type||"image/jpg"===e.target.files[0].type||"image/jpeg"===e.target.files[0].type){tt(""),console.log(e.target.files[0]);var n=Object(m.c)(f,"/productImages/".concat(t.name)),c=Object(m.d)(n,t,{contentType:"image/jpeg"});st(!0),c.on("state_changed",(function(e){var t=Math.floor(e.bytesTransferred/e.totalBytes*100);dt(t)}),(function(e){console.log(e)}),(function(){Object(m.a)(c.snapshot.ref).then((function(e){Ye(e),st(!1)}))}))}else tt("Please Upload jpg/jpeg or png");else tt("Please Upload Image")},accept:"image/*"}),rt&&Object(g.jsx)("p",{children:"Please wait image is geting uploaded...."}),et&&Object(g.jsx)("p",{className:"invalid",children:et})]}),Object(g.jsx)("button",{type:"submit",children:"Add/Update Product"}),Object(g.jsx)("button",{onClick:function(){P(!1)},children:"close"})]}),Object(g.jsx)("div",{className:"forms__actions"})]})),d&&(jt=Object(g.jsx)("p",{className:"forms__controls__p",children:"Loading..."})),b&&(jt=Object(g.jsxs)("div",{className:"forms__controls__add",children:[Object(g.jsx)("p",{className:"forms__controls__p",children:b}),Object(g.jsx)("button",{onClick:function(){P(!0)},children:"Add New Product"})]})),Object(g.jsx)(c.Fragment,{children:jt})},P=(n(44),n.p,function(){return Object(g.jsxs)(c.Fragment,{children:[Object(g.jsx)("header",{className:"header",children:Object(g.jsx)("h2",{children:"Admin Panel"})}),";",Object(g.jsx)("div",{className:"main-image"})]})}),H=n(28),F=(n(45),function(e){var t=e.idHandler,n=Object(c.useState)([]),r=Object(a.a)(n,2),s=r[0],d=r[1];Object(c.useEffect)((function(){o()}),[]);var o=function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.getAllProducts();case 2:t=e.sent,d(t.docs.map((function(e){return Object(H.a)(Object(H.a)({},e.data()),{},{id:e.id})})));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(g.jsxs)("div",{className:"forms__controls",children:[Object(g.jsx)("button",{onClick:function(){o()},children:"Refresh Products List"}),s.map((function(e,n){return Object(g.jsxs)("div",{className:"meal",children:[Object(g.jsxs)("div",{className:"inside__list",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h2",{children:n+1}),Object(g.jsxs)("h3",{children:["Name = ",e.productName]}),Object(g.jsxs)("div",{className:"price",children:["price = ",e.productPrice]}),Object(g.jsxs)("div",{className:"values",children:["Mrp = ",e.productMrp]}),Object(g.jsxs)("div",{className:"values",children:["Discount = ",e.productDiscount]}),Object(g.jsxs)("div",{className:"values",children:["Size = ",e.productSize]}),Object(g.jsxs)("div",{className:"values",children:["quantity = ",e.quantity]}),Object(g.jsxs)("div",{className:"values",children:["color = ",e.color]}),Object(g.jsxs)("div",{className:"values",children:["Description = ",e.description]})]}),Object(g.jsx)("div",{children:Object(g.jsx)("img",{src:e.image,className:"image__class"})})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("button",{onClick:function(n){return t(e.id)},children:"Edit"}),Object(g.jsx)("button",{onClick:function(t){return n=e.id,x.deleteProduct(n),void o();var n},children:"Delete"})]})]},e.id)}))]})});var S=function(){var e=Object(c.useState)(""),t=Object(a.a)(e,2),n=t[0],r=t[1];return Object(g.jsxs)(c.Fragment,{children:[Object(g.jsx)(P,{}),Object(g.jsx)(E,{id:n,setId:r}),Object(g.jsx)(F,{idHandler:function(e){r(e)}})]})};s.a.render(Object(g.jsx)(S,{}),document.getElementById("root"))}},[[46,1,2]]]);
//# sourceMappingURL=main.7ba6403c.chunk.js.map